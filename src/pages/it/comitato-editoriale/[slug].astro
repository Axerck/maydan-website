---
import Layout from '../../../layouts/Layout.astro';
import { teamMembers } from '../../../data/team';

export function getStaticPaths() {
  return teamMembers.map(member => ({
    params: { slug: member.slug },
    props: { member },
  }));
}

const { member } = Astro.props;
---

<Layout title={`${member.name} | Rivista Maydan`}>
  <div class="member-profile">
    <h1>{member.name}</h1>
    
    <p class="member-role"><strong>{member.role}</strong></p>
    <p class="member-affiliation"><em>{member.affiliation}</em></p>
    
    <hr />
    
    <div class="profile-layout">
        {member.image && (
            <div class="member-image-container">
                <img src={member.image} alt={member.name} class="member-image" />
            </div>
        )}
        
        <div class="member-bio">
            {member.bio ? <p>{member.bio}</p> : <p>Biografia in aggiornamento...</p>}
            
            {member.personalLink && (
                <p>
                Per approfondimenti: <a href={member.personalLink} target="_blank" rel="noopener noreferrer"><strong>{member.personalLink}</strong></a>
                </p>
            )}
            
            {member.email && (
                <p>
                E-mail: <a href={`mailto:${member.email}`}>{member.email}</a>
                </p>
            )}
        </div>
    </div>
    
    <div class="back-link">
      <a href="/it/comitato-editoriale">‚Üê Torna al Comitato Editoriale</a>
    </div>
  </div>

  <style>
    .member-profile {
        max-width: 960px; /* Increased max-width for side-by-side layout */
        margin: 0 auto;
    }
    .profile-layout {
        display: flex;
        flex-direction: row;
        gap: 2rem;
        align-items: flex-start;
        width: 100%;
    }
    .member-image-container {
        flex-shrink: 0;
        width: 300px;
    }
    .member-image {
        width: 100%;
        height: auto;
        border-radius: 4px;
        display: block;
    }
    .member-bio {
        flex: 1;
        min-width: 0; /* Important for flex text wrapping */
        line-height: 1.6;
        text-align: justify;
    }
    .member-role {
        font-size: 1.2rem;
        margin-bottom: 0.5rem;
    }
    .member-affiliation {
        font-size: 1.1rem;
        color: #555;
    }
    .back-link {
        margin-top: 3rem;
    }
    .back-link a {
        color: #666;
        text-decoration: none;
    }
    .back-link a:hover {
        text-decoration: underline;
    }
    
    @media (max-width: 960px) {
        .profile-layout {
            flex-direction: column;
        }
        .member-image-container {
            width: 100%;
            max-width: 400px;
            margin-bottom: 1.5rem;
        }
    }
  </style>
</Layout>
